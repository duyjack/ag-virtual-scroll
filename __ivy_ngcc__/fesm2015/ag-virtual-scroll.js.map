{"version":3,"file":"ag-virtual-scroll.js","sources":["../../src/ag-virtual-scroll/classes/ag-vs-render-event.class.ts","../../src/ag-virtual-scroll/ag-vs-item/ag-vs-item.component.ts","../../src/ag-virtual-scroll/ag-virtual-scroll.component.ts","../../src/ag-virtual-scroll/pipes/math-abs.pipe.ts","../../src/ag-virtual-scroll/pipes/sticked-classes.pipe.ts","../../src/ag-virtual-scroll/ag-virtual-scroll.module.ts","../../src/ag-virtual-scroll/ag-virtual-scroll.ts"],"names":[],"mappings":"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","sourcesContent":["export class AgVsRenderEvent<T> {\n    public items: T[];\n    public startIndex: number;\n    public endIndex: number;\n    public length: number;\n\n    constructor(obj: Partial<AgVsRenderEvent<T>>) {\n        Object.assign(this, obj);\n    }\n}","import { Component, Input, ElementRef, AfterViewInit, OnChanges, SimpleChanges, OnInit, HostBinding, ApplicationRef, ViewChild, TemplateRef, EventEmitter } from '@angular/core';\nimport { AgVirtualSrollComponent } from '../ag-virtual-scroll.component';\nimport { BehaviorSubject } from 'rxjs';\n\n@Component({\n\tselector: 'ag-vs-item',\n\ttemplateUrl: './ag-vs-item.component.html',\n    styles: [\n        `:host {\n            display: block;\n        }\n        \n        :host > ng-template {\n            display: inherit;\n            width: inherit;\n            height: inherit;\n        }`\n    ]\n})\nexport class AgVsItemComponent implements OnInit, AfterViewInit, OnChanges {\n    @HostBinding('class.ag-vs-item') public class: boolean = true;\n\n    @ViewChild('temp', {static: false}) public temp: TemplateRef<any>;\n\n    @Input('sticky') public sticky: boolean = false;\n\n    public get el() { return this.elRef && this.elRef.nativeElement; }\n\n    public viewOk: boolean = false;\n\n    public onStickyChange = new EventEmitter<boolean>(false);\n\n    public isSticked: boolean = false;\n\n    constructor(\n        public elRef: ElementRef<HTMLElement>,\n        public appRef: ApplicationRef\n\t) {\n    }\n    \n    ngOnInit() {\n    }\n\n    ngAfterViewInit() {\n    }\n\t\n\tngOnChanges(changes: SimpleChanges) {\n        if ('sticky' in changes)\n            this.onStickyChange.next(this.sticky);\n    }\n\n    public forceUpdateInputs() {\n        this.viewOk = false;\n        this.appRef.tick();\n        this.viewOk = true;\n    }\n\n    public getHtml() {\n       return this.el.outerHTML;\n    }\n}\n","import { Component, Input, ElementRef, ViewChild, AfterViewInit, OnChanges, SimpleChanges, Renderer2, OnInit, Output, EventEmitter, QueryList, ContentChildren, AfterContentChecked, OnDestroy } from '@angular/core';\nimport { AgVsRenderEvent } from './classes/ag-vs-render-event.class';\nimport { AgVsItemComponent } from './ag-vs-item/ag-vs-item.component';\nimport { Observable, Subscription } from 'rxjs';\n\n@Component({\n\tselector: 'ag-virtual-scroll',\n\ttemplateUrl: './ag-virtual-scroll.component.html',\n    styles: [`\n        :host {\n            display: block;\n            position: relative;\n            height: 100%;\n            width: 100%;\n            overflow-y: auto;\n        }\n\n        :host .content-height {\n            width: 1px;\n            opacity: 0;\n        }\n\n        :host .items-container {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n        }\n\n        :host::ng-deep .items-container.sticked-outside > .ag-vs-item:last-child {\n            position: absolute;\n            top: 0;\n            left: -100%;\n        }\n\n        :host::ng-deep > .ag-vs-item {\n            position: absolute;\n            top: 0;\n            left: 0;\n            box-shadow: 0 5px 5px rgba(0, 0, 0, .1);\n            background: #FFF;\n        }`\n    ]\n})\nexport class AgVirtualSrollComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy, AfterContentChecked {\n    @ViewChild('itemsContainer', {static: true}) private itemsContainerElRef: ElementRef<HTMLElement>;\n\n    @ContentChildren(AgVsItemComponent) private queryVsItems: QueryList<AgVsItemComponent>;\n\n    @Input('min-row-height') public minRowHeight: number = 40;\n    @Input('height') public height: string = 'auto';\n    @Input('items') public originalItems: any[] = [];\n\n    @Output() private onItemsRender = new EventEmitter<AgVsRenderEvent<any>>();\n\n    public prevOriginalItems: any[] = [];\n    public items: any[] = [];\n\n    private subscripAllVsItem: { comp: AgVsItemComponent, subscrip: Subscription }[] = [];\n\n    private _indexCurrentSticky: number = -1;\n    private get indexCurrentSticky() { return this._indexCurrentSticky; }\n    private set indexCurrentSticky(value: number) {\n        this._indexCurrentSticky = value;\n\n        let currentIsPrev = value === this.indexPrevSticky;\n\n        if (!currentIsPrev && value >= 0) {\n            this.findCurrentStickyByIndex();\n        }\n        else {\n            if (!currentIsPrev)\n                this.indexNextSticky = -1;\n\n            if (this.currentStickyItem)\n                this.currentStickyItem.comp.isSticked = false;\n            \n            this.currentStickyItem = null;\n        }\n\n        this.prepareDataItems();\n    }\n    \n    private get indexPrevSticky() { return this.indexesPrevStick.length ? this.indexesPrevStick[0] : -1; }\n    private set indexPrevSticky(value: number) {\n        if (value < 0) {\n            if (this.indexesPrevStick.length > 0)\n                this.indexesPrevStick = this.indexesPrevStick.slice(1);\n        }\n        else if (!this.indexesPrevStick.some(index => index === value))\n            this.indexesPrevStick.push(value);\n\n        if (this.indexesPrevStick.length)\n            this.indexesPrevStick = this.indexesPrevStick.sort((a,b) => b-a);\n    }\n\n    private indexNextSticky: number = -1;\n\n    private indexesPrevStick: number[] = [];\n\n    public currentStickyItem: StickyItem;\n\n    public currentScroll: number = 0;\n    public contentHeight: number = 0;\n    public paddingTop: number = 0;\n\n    public startIndex: number = 0;\n    public endIndex: number = 0;\n\n    private isTable: boolean = false;\n\n    private scrollIsUp: boolean = false;\n    private lastScrollIsUp: boolean = false;\n    \n    private previousItemsHeight: number[] = [];\n\n    public containerWidth: number = 0;\n\n    private get itemsNoSticky() { return this.currentStickyItem ? this.items.filter((item) => this.originalItems[this.currentStickyItem.index] !== item) : this.items; }\n\n    public get vsItems() { return (this.queryVsItems && this.queryVsItems.toArray()) || []; }\n\n    public get numberItemsRendred(): number { return this.endIndex - this.startIndex; }\n    \n    public get el() { return this.elRef && this.elRef.nativeElement; }\n\n    public get itemsContainerEl() { return this.itemsContainerElRef && this.itemsContainerElRef.nativeElement; }\n    \n    constructor(\n        private elRef: ElementRef<HTMLElement>,\n        private renderer: Renderer2\n\t) {\n\t}\n\n    ngAfterViewInit() {\n        this.queryVsItems.changes.subscribe(() => this.checkStickItem(this.scrollIsUp));\n\t}\n\n    ngOnInit() {\n        this.renderer.listen(this.el, 'scroll', this.onScroll.bind(this));\n\t}\n\t\n\tngOnChanges(changes: SimpleChanges) {\n\t\tsetTimeout(() => {\n            if ('height' in changes) {\n                this.el.style.height = this.height;\n            }\n\n            if ('minRowHeight' in changes) {\n                if (typeof this.minRowHeight === 'string') {\n                    if (parseInt(this.minRowHeight))\n                        this.minRowHeight = parseInt(this.minRowHeight);\n                    else {\n                        console.warn('The [min-row-height] @Input is invalid, the value must be of type \"number\".')\n                        this.minRowHeight = 40;\n                    }\n                }\n            }\n\n\t\t\tif ('originalItems' in changes) {\n                if (!this.originalItems)\n                    this.originalItems = [];\n\n                if (this.currentAndPrevItemsAreDiff()) {\n                    this.previousItemsHeight = new Array(this.originalItems.length).fill(null);\n                \n                    if (this.el.scrollTop !== 0)\n                        this.el.scrollTop = 0;\n                    else {\n                        this.currentScroll = 0;\n                        this.prepareDataItems();\n                        this.checkIsTable();\n                        this.queryVsItems.notifyOnChanges();\n                    }\n                }\n                else {\n                    if (this.originalItems.length > this.prevOriginalItems.length)\n                        this.previousItemsHeight = this.previousItemsHeight.concat(new Array(this.originalItems.length - this.prevOriginalItems.length).fill(null));\n                \n                    this.prepareDataItems();\n                    this.checkIsTable();\n                    this.queryVsItems.notifyOnChanges();\n                }\n\n                this.prevOriginalItems = this.originalItems;\n\t\t\t}\n\t\t});\n    }\n\n    ngAfterContentChecked() {\n        let currentContainerWidth = this.itemsContainerEl && this.itemsContainerEl.clientWidth;\n        if (currentContainerWidth !== this.containerWidth)\n            this.containerWidth = currentContainerWidth;\n        \n        this.manipuleRenderedItems();\n    }\n\n    private currentAndPrevItemsAreDiff() {\n        if (this.originalItems.length >= this.prevOriginalItems.length) {\n            let begin = 0;\n            let end = this.prevOriginalItems.length - 1;\n            for (let i = begin; i <= end; i++) {\n                if (this.originalItems[i] !== this.prevOriginalItems[i])\n                    return true;\n            }\n\n            return false;\n        }\n\n        return true;\n    }\n\n\tprivate onScroll() {\n        let up = this.el.scrollTop < this.currentScroll;\n        this.currentScroll = this.el.scrollTop;\n\n        this.prepareDataItems();\n        this.isTable = this.checkIsTable();\n        this.lastScrollIsUp = this.scrollIsUp;\n        this.scrollIsUp = up;\n        this.queryVsItems.notifyOnChanges();\n    }\n\n    private prepareDataItems() {\n        this.registerCurrentItemsHeight();\n        this.prepareDataVirtualScroll();\n    }\n\n    private registerCurrentItemsHeight() {\n        let children = this.getInsideChildrens();\n        for (let i = 0; i < children.length; i++) {\n            let child = children[i];\n            let realIndex = this.startIndex + i;\n            this.previousItemsHeight[realIndex] = child.getBoundingClientRect().height;\n        }\n    }\n\n    private getDimensions() {\n        \n        let dimensions = {\n            contentHeight: 0,\n            paddingTop: 0,\n            itemsThatAreGone: 0\n        };\n        \n        dimensions.contentHeight = this.originalItems.reduce((prev, curr, i) => {\n\t\t\tlet height = this.previousItemsHeight[i];\n\t\t\treturn prev + (height ? height : this.minRowHeight);\n        }, 0);\n\n        if (this.currentScroll >= this.minRowHeight) {\n            let newPaddingTop = 0;\n            let itemsThatAreGone = 0;\n            let initialScroll = this.currentScroll;\n            \n            for (let h of this.previousItemsHeight) {\n                let height = h ? h : this.minRowHeight;\n                if (initialScroll >= height) {\n                    newPaddingTop += height;\n                    initialScroll -= height;\n                    itemsThatAreGone++;\n                }\n                else\n                    break;\n            }\n            \n            dimensions.paddingTop = newPaddingTop;\n            dimensions.itemsThatAreGone = itemsThatAreGone;\n        }\n\n        return dimensions;\n    }\n    \n    private prepareDataVirtualScroll() {\n        let dimensions = this.getDimensions();\n        \n        this.contentHeight = dimensions.contentHeight;\n        this.paddingTop = dimensions.paddingTop;\n        this.startIndex = dimensions.itemsThatAreGone;\n        this.endIndex = Math.min((this.startIndex + this.numberItemsCanRender()), (this.originalItems.length - 1));\n\n        if (this.indexCurrentSticky >= 0 && (this.startIndex > this.indexCurrentSticky || this.endIndex < this.indexCurrentSticky)) {\n            if (this.currentStickyItem)\n                this.currentStickyItem.outside = true;\n            this.items = [ ...this.originalItems.slice(this.startIndex, Math.min(this.endIndex + 1, this.originalItems.length)), this.originalItems[this.indexCurrentSticky] ];\n        }\n        else {\n            if (this.currentStickyItem)\n                this.currentStickyItem.outside = false;\n            this.items = this.originalItems.slice(this.startIndex, Math.min(this.endIndex + 1, this.originalItems.length));\n        }\n\n        this.onItemsRender.emit(new AgVsRenderEvent<any>({\n            items: this.itemsNoSticky,\n            startIndex: this.startIndex,\n            endIndex: this.endIndex,\n            length: this.itemsNoSticky.length\n        }));\n                \n        this.manipuleRenderedItems();\n    }\n\n    private numberItemsCanRender() {\n        return Math.floor(this.el.clientHeight / this.minRowHeight) + 2;\n    }\n\n    private manipuleRenderedItems() {\n        let children = this.getInsideChildrens();\n        for (let i = 0; i < children.length; i++) {\n            let child = children[i] as HTMLElement;\n            if (child.style.display !== 'none') {\n                let realIndex = this.startIndex + i;\n                child.style.minHeight = `${this.minRowHeight}px`;\n                child.style.height = `${this.minRowHeight}px`;\n                \n                let className = (realIndex + 1) % 2 === 0 ? 'even' : 'odd';\n                let unclassName = className == 'even' ? 'odd' : 'even';\n\n                child.classList.add(`ag-virtual-scroll-${className}`);\n                child.classList.remove(`ag-virtual-scroll-${unclassName}`);\n            }\n        }\n    }\n\n    private getInsideChildrens(): HTMLCollection {\n        let childrens = this.itemsContainerEl.children;\n        if (childrens.length > 0) {\n            if (childrens[0].tagName.toUpperCase() === 'TABLE') {\n                childrens = childrens[0].children;\n                if (childrens.length > 0) {\n                    if (childrens[0].tagName.toUpperCase() === 'TBODY')\n                        childrens = childrens[0].children;\n                    else\n                        childrens = childrens[1].children;\n                }\n            }\n        }\n\n        return childrens;\n    }\n\n    private checkIsTable() {\n        let childrens = this.itemsContainerEl.children;\n        if (childrens.length > 0) {\n            if (childrens[0].tagName.toUpperCase() === 'TABLE') {\n                childrens = childrens[0].children;\n                if (childrens.length > 0) {\n                    if (childrens[0].tagName.toUpperCase() === 'THEAD'){\n                        let thead = childrens[0] as HTMLElement;\n                        thead.style.transform = `translateY(${Math.abs(this.paddingTop - this.currentScroll)}px)`;\n                    }\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private checkStickItem(up: boolean) {\n        if (!this.isTable && this.vsItems.length > 0) {\n            this.updateVsItems().subscribe(() => {\n                if (this.indexCurrentSticky >= 0) {\n\n                    if (!this.currentStickyItem) {\n                        this.findCurrentStickyByIndex(true);\n                        return;\n                    }\n\n                    if (this.indexNextSticky === -1)\n                        this.indexNextSticky = this.getIndexNextSticky(up);\n    \n                    if (this.currentStickIsEnded(up)) {\n                        if (!up) {\n                            this.indexPrevSticky = this.indexCurrentSticky;\n                            this.indexCurrentSticky = this.getIndexCurrentSticky(up);\n                            this.indexNextSticky = this.getIndexNextSticky(up);\n                        }\n                        else {\n                            if (this.indexPrevSticky >= 0) {\n                                this.setPrevAsCurrentSticky();\n                            }\n                            else {\n                                this.indexCurrentSticky = this.getIndexCurrentSticky(up);\n\n                                if (this.indexCurrentSticky >= 0)\n                                    this.indexNextSticky = this.getIndexNextSticky(up);\n                                else\n                                    this.indexNextSticky = null;\n                            }\n                        }\n                    }\n                }  \n                else {\n                    this.indexCurrentSticky = this.getIndexCurrentSticky(up);\n                    this.indexNextSticky = this.getIndexNextSticky(up);\n                }        \n            });\n        }\n        else {\n            this.indexCurrentSticky = -1;\n            this.indexNextSticky = -1;\n        }\n    }\n\n    private findCurrentStickyByIndex(afterPrev: boolean = false) {\n        let vsIndex = 0;\n        let lastVsIndex = this.vsItems.length - 1;\n        let diffMaxItemsRender = this.vsItems.length - this.numberItemsCanRender();\n\n        if (diffMaxItemsRender > 0 && !this.vsItems.some((vsItem, vsIndex) => this.indexCurrentSticky === (this.startIndex + vsIndex))) {\n            vsIndex = lastVsIndex;\n            let vsItem = this.vsItems[lastVsIndex];\n            let index = this.indexCurrentSticky;\n            let offsetTop = this.previousItemsHeight.slice(0, index).reduce((prev, curr) => (prev + (curr ? curr : this.minRowHeight)), 0);\n            vsItem.isSticked = true;\n            this.currentStickyItem = new StickyItem({\n                comp: vsItem,\n                index: index,\n                vsIndex: vsIndex,\n                offsetTop: offsetTop,\n                height: vsItem.el.offsetHeight,\n                outside: true\n            });\n        }\n        else {\n            for(let vsItem of this.vsItems) {\n                let index = this.startIndex + vsIndex;\n\n                if (this.indexCurrentSticky === index) {\n                    let offsetTop = this.previousItemsHeight.slice(0, index).reduce((prev, curr) => (prev + (curr ? curr : this.minRowHeight)), 0);\n                    vsItem.isSticked = true;\n                    this.currentStickyItem = new StickyItem({\n                        comp: vsItem,\n                        index: index,\n                        vsIndex: vsIndex,\n                        offsetTop: offsetTop,\n                        height: vsItem.el.offsetHeight\n                    });\n                    break;\n                }\n                \n                vsIndex++;\n            }\n        }\n\n        if (afterPrev && this.currentStickyItem) {\n            let currentHeight = this.currentStickyItem.height;\n            let offsetBottom = this.paddingTop + currentHeight + Math.abs(this.el.scrollTop - this.paddingTop);\n            let offsetTopNext = this.indexNextSticky >= 0 ? this.previousItemsHeight.slice(0, this.indexNextSticky).reduce((prev, curr) => (prev + (curr ? curr : this.minRowHeight)), 0) : null;\n            \n            if (offsetTopNext !== null && offsetBottom >= offsetTopNext) {\n                let newDiffTop = offsetBottom - offsetTopNext;\n                if (newDiffTop >= currentHeight) {\n                    this.currentStickyItem.diffTop = currentHeight;\n                    return true;\n                }\n                else\n                    this.currentStickyItem.diffTop = newDiffTop;\n            } \n            else\n                this.currentStickyItem.diffTop = 0;\n        }\n    }\n\n    private setPrevAsCurrentSticky() {\n        let currentSticked = this.currentStickyItem && this.currentStickyItem.comp.sticky;\n\n        if (currentSticked) \n            this.indexNextSticky = this.indexCurrentSticky;\n\n        this.indexCurrentSticky = this.indexPrevSticky;\n        this.indexPrevSticky = -1;\n    }\n\n    private getIndexCurrentSticky(up: boolean) {\n        let vsIndex = 0;\n        for (let vsItem of this.vsItems) {\n            let index = vsIndex + this.startIndex;\n\n            let offsetTop = this.previousItemsHeight.slice(0, index).reduce((prev, curr) => (prev + (curr ? curr : this.minRowHeight)), 0);\n            \n            if (vsItem && vsItem.sticky &&\n                this.el.scrollTop >= offsetTop &&\n                (this.indexCurrentSticky === -1 || index !== this.indexCurrentSticky)\n            )\n                return index;\n\n            vsIndex++;\n        };\n        \n        return -1;\n    }\n\n    private getIndexNextSticky(up: boolean) {\n        if (this.indexCurrentSticky >= 0) {\n            let vsIndex = 0;\n\n            for (let vsItem of this.vsItems.slice(0, this.numberItemsCanRender())) {\n                let index = vsIndex + this.startIndex;\n\n                if (vsItem.sticky && index > this.indexCurrentSticky)\n                    return index;\n\n                vsIndex++;\n            }\n        }\n\n        return -1;\n    }\n\n    private currentStickIsEnded(up: boolean) {\n        let currentHeight = this.currentStickyItem.height;\n        \n        if (!up || this.currentStickyItem.diffTop > 0) {\n            let offsetBottom = this.paddingTop + currentHeight + Math.abs(this.el.scrollTop - this.paddingTop);\n            let offsetTopNext = this.indexNextSticky >= 0 ? this.previousItemsHeight.slice(0, this.indexNextSticky).reduce((prev, curr) => (prev + (curr ? curr : this.minRowHeight)), 0) : null;\n            \n            if (offsetTopNext !== null && offsetBottom >= offsetTopNext) {\n                let newDiffTop = offsetBottom - offsetTopNext;\n                if (newDiffTop >= currentHeight) {\n                    this.currentStickyItem.diffTop = currentHeight;\n                    return true;\n                }\n                else\n                    this.currentStickyItem.diffTop = newDiffTop;\n            } \n            else\n                this.currentStickyItem.diffTop = 0;\n        }\n        else {\n            let offsetBottom = this.paddingTop + Math.abs(this.el.scrollTop - this.paddingTop);\n            if (offsetBottom <= this.currentStickyItem.offsetTop) {\n                return true;\n            } \n        }\n\n        return false;\n    }\n\n    private updateVsItems() {\n        return new Observable<void>((subscriber) => {\n            if (this.subscripAllVsItem.length) {\n                this.subscripAllVsItem.forEach((item) => item.subscrip.unsubscribe());\n                this.subscripAllVsItem = [];\n            }\n\n            let interval = setInterval(() => {\n                let diffMaxItemsRender = this.vsItems.length - this.numberItemsCanRender();\n                let lastIndex = this.vsItems.length - 1;\n                let ok = this.vsItems.every((vsItem, vsIndex) => {\n                    let index = this.startIndex + vsIndex;\n\n                    if (diffMaxItemsRender > 0 && vsIndex === lastIndex)\n                        index = this.indexCurrentSticky;\n\n                    if (!this.currentStickyItem || vsItem !== this.currentStickyItem.comp)\n                        vsItem.isSticked = false;\n\n                    if (!this.subscripAllVsItem.some(item => item.comp === vsItem))\n                        this.subscripAllVsItem.push({\n                            comp: vsItem,\n                            subscrip: vsItem.onStickyChange.subscribe((sticky) => {\n                                this.onStickyComponentChanged(vsItem, index);\n                            })\n                        });\n\n                    try { vsItem.forceUpdateInputs(); }\n                    catch { return false; }\n\n                    return true;\n                });\n\n                if (ok) {\n                    clearInterval(interval);\n                    this.manipuleRenderedItems();\n                    subscriber.next();\n                }\n            });\n        });\n    }\n\n    private onStickyComponentChanged(vsItem: AgVsItemComponent, index: number) {\n        if (index === this.indexCurrentSticky) {\n            if (!vsItem.sticky) {\n                if (this.indexPrevSticky >= 0) {\n                    this.setPrevAsCurrentSticky();\n                }\n                else {\n                    this.indexCurrentSticky = this.getIndexCurrentSticky(false);\n\n                    if (this.indexCurrentSticky >= 0)\n                        this.indexNextSticky = this.getIndexNextSticky(false);\n                    else\n                        this.indexNextSticky = null;\n                }\n            }\n        }\n        else if ((this.indexCurrentSticky !== -1 && index < this.indexCurrentSticky) || index === this.indexPrevSticky) {\n            if (vsItem.sticky)\n                this.indexPrevSticky = index;\n            else\n                this.indexesPrevStick = this.indexesPrevStick.filter(indexPrev => indexPrev !== index);\n        }\n        else if ((this.indexCurrentSticky !== -1 && index > this.indexCurrentSticky) || index === this.indexNextSticky) {\n            if (vsItem.sticky && (this.indexNextSticky === -1 || index < this.indexNextSticky))\n                this.indexNextSticky = index;\n            else if (!vsItem.sticky)\n                this.indexNextSticky = -1;\n        }\n        else\n            return;\n\n        this.queryVsItems.notifyOnChanges();\n    }\n\n    ngOnDestroy() {\n    }\n}\n\n\nexport class StickyItem {\n    comp: AgVsItemComponent;\n    index: number;\n    offsetTop: number = 0;\n    vsIndex: number;\n    diffTop: number = 0;\n    isUp: boolean = false\n    height: number = 0;\n    outside: boolean = false;\n\n    constructor(obj?: Partial<StickyItem>) {\n        if (obj) Object.assign(this, obj);\n    }\n}","import { Pipe, PipeTransform } from '@angular/core';\n@Pipe({\n   name: 'mathAbs'\n})\nexport class MathAbsPipe implements PipeTransform {\n\n   constructor() {}\n\n   transform(value: number) {\n      if (value)\n         return Math.abs(value);\n      return value;\n   }\n}","import { Pipe, PipeTransform } from '@angular/core';\n@Pipe({\n   name: 'stickedClasses'\n})\nexport class StickedClassesPipe implements PipeTransform {\n\n   private exceptionClasses: string[] = [\n      'ag-virtual-scroll-odd',\n      'ag-virtual-scroll-even',\n   ];\n\n   constructor() {}\n\n   transform(classes: string) {\n      if (classes) {\n         let splitted = classes.includes(' ') ? classes.split(' ') : [classes];\n         return splitted.filter(className => !this.exceptionClasses.some(exc => exc === className)).join(' ');\n      }\n      return '';\n   }\n}","import { NgModule, } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AgVirtualSrollComponent } from './ag-virtual-scroll.component';\nimport { AgVsItemComponent } from './ag-vs-item/ag-vs-item.component';\nimport { MathAbsPipe } from './pipes/math-abs.pipe';\nimport { StickedClassesPipe } from './pipes/sticked-classes.pipe';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        AgVirtualSrollComponent,\n        AgVsItemComponent,\n\n        // Pipes\n        MathAbsPipe,\n        StickedClassesPipe\n    ],\n    exports: [\n        AgVirtualSrollComponent,\n        AgVsItemComponent\n    ],\n    entryComponents: [\n        AgVirtualSrollComponent,\n        AgVsItemComponent\n    ]\n})\nexport class AgVirtualScrollModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {MathAbsPipe as ɵa} from './pipes/math-abs.pipe';\nexport {StickedClassesPipe as ɵb} from './pipes/sticked-classes.pipe';"]}