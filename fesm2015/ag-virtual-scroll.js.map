{"version":3,"file":"ag-virtual-scroll.js","sources":["../../src/ag-virtual-scroll/classes/ag-vs-render-event.class.ts","../../src/ag-virtual-scroll/ag-vs-item/ag-vs-item.component.ts","../../src/ag-virtual-scroll/ag-virtual-scroll.component.ts","../../src/ag-virtual-scroll/pipes/math-abs.pipe.ts","../../src/ag-virtual-scroll/pipes/sticked-classes.pipe.ts","../../src/ag-virtual-scroll/ag-virtual-scroll.module.ts","../../src/ag-virtual-scroll/ag-virtual-scroll.ts"],"sourcesContent":["export class AgVsRenderEvent<T> {\n    public items: T[];\n    public startIndex: number;\n    public endIndex: number;\n    public length: number;\n\n    constructor(obj: Partial<AgVsRenderEvent<T>>) {\n        Object.assign(this, obj);\n    }\n}","import { Component, Input, ElementRef, AfterViewInit, OnChanges, SimpleChanges, OnInit, HostBinding, ApplicationRef, ViewChild, TemplateRef, EventEmitter } from '@angular/core';\nimport { AgVirtualSrollComponent } from '../ag-virtual-scroll.component';\nimport { BehaviorSubject } from 'rxjs';\n\n@Component({\n\tselector: 'ag-vs-item',\n\ttemplateUrl: './ag-vs-item.component.html',\n    styles: [\n        `:host {\n            display: block;\n        }\n        \n        :host > ng-template {\n            display: inherit;\n            width: inherit;\n            height: inherit;\n        }`\n    ]\n})\nexport class AgVsItemComponent implements OnInit, AfterViewInit, OnChanges {\n    @HostBinding('class.ag-vs-item') public class: boolean = true;\n\n    @ViewChild('temp', {static: false}) public temp: TemplateRef<any>;\n\n    @Input('sticky') public sticky: boolean = false;\n\n    public get el() { return this.elRef && this.elRef.nativeElement; }\n\n    public viewOk: boolean = false;\n\n    public onStickyChange = new EventEmitter<boolean>(false);\n\n    public isSticked: boolean = false;\n\n    constructor(\n        public elRef: ElementRef<HTMLElement>,\n        public appRef: ApplicationRef\n\t) {\n    }\n    \n    ngOnInit() {\n    }\n\n    ngAfterViewInit() {\n    }\n\t\n\tngOnChanges(changes: SimpleChanges) {\n        if ('sticky' in changes)\n            this.onStickyChange.next(this.sticky);\n    }\n\n    public forceUpdateInputs() {\n        this.viewOk = false;\n        this.appRef.tick();\n        this.viewOk = true;\n    }\n\n    public getHtml() {\n       return this.el.outerHTML;\n    }\n}\n","import { Component, Input, ElementRef, ViewChild, AfterViewInit, OnChanges, SimpleChanges, Renderer2, OnInit, Output, EventEmitter, QueryList, ContentChildren, AfterContentChecked, OnDestroy } from '@angular/core';\nimport { AgVsRenderEvent } from './classes/ag-vs-render-event.class';\nimport { AgVsItemComponent } from './ag-vs-item/ag-vs-item.component';\nimport { Observable, Subscription } from 'rxjs';\n\n@Component({\n\tselector: 'ag-virtual-scroll',\n\ttemplateUrl: './ag-virtual-scroll.component.html',\n    styles: [`\n        :host {\n            display: block;\n            position: relative;\n            height: 100%;\n            width: 100%;\n            overflow-y: auto;\n        }\n\n        :host .content-height {\n            width: 1px;\n            opacity: 0;\n        }\n\n        :host .items-container {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n        }\n\n        :host::ng-deep .items-container.sticked-outside > .ag-vs-item:last-child {\n            position: absolute;\n            top: 0;\n            left: -100%;\n        }\n\n        :host::ng-deep > .ag-vs-item {\n            position: absolute;\n            top: 0;\n            left: 0;\n            box-shadow: 0 5px 5px rgba(0, 0, 0, .1);\n            background: #FFF;\n        }`\n    ]\n})\nexport class AgVirtualSrollComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy, AfterContentChecked {\n    @ViewChild('itemsContainer', {static: true}) private itemsContainerElRef: ElementRef<HTMLElement>;\n\n    @ContentChildren(AgVsItemComponent) private queryVsItems: QueryList<AgVsItemComponent>;\n\n    @Input('min-row-height') public minRowHeight: number = 40;\n    @Input('height') public height: string = 'auto';\n    @Input('items') public originalItems: any[] = [];\n\n    @Output() private onItemsRender = new EventEmitter<AgVsRenderEvent<any>>();\n\n    public prevOriginalItems: any[] = [];\n    public items: any[] = [];\n\n    private subscripAllVsItem: { comp: AgVsItemComponent, subscrip: Subscription }[] = [];\n\n    private _indexCurrentSticky: number = -1;\n    private get indexCurrentSticky() { return this._indexCurrentSticky; }\n    private set indexCurrentSticky(value: number) {\n        this._indexCurrentSticky = value;\n\n        let currentIsPrev = value === this.indexPrevSticky;\n\n        if (!currentIsPrev && value >= 0) {\n            this.findCurrentStickyByIndex();\n        }\n        else {\n            if (!currentIsPrev)\n                this.indexNextSticky = -1;\n\n            if (this.currentStickyItem)\n                this.currentStickyItem.comp.isSticked = false;\n            \n            this.currentStickyItem = null;\n        }\n\n        this.prepareDataItems();\n    }\n    \n    private get indexPrevSticky() { return this.indexesPrevStick.length ? this.indexesPrevStick[0] : -1; }\n    private set indexPrevSticky(value: number) {\n        if (value < 0) {\n            if (this.indexesPrevStick.length > 0)\n                this.indexesPrevStick = this.indexesPrevStick.slice(1);\n        }\n        else if (!this.indexesPrevStick.some(index => index === value))\n            this.indexesPrevStick.push(value);\n\n        if (this.indexesPrevStick.length)\n            this.indexesPrevStick = this.indexesPrevStick.sort((a,b) => b-a);\n    }\n\n    private indexNextSticky: number = -1;\n\n    private indexesPrevStick: number[] = [];\n\n    public currentStickyItem: StickyItem;\n\n    public currentScroll: number = 0;\n    public contentHeight: number = 0;\n    public paddingTop: number = 0;\n\n    public startIndex: number = 0;\n    public endIndex: number = 0;\n\n    private isTable: boolean = false;\n\n    private scrollIsUp: boolean = false;\n    private lastScrollIsUp: boolean = false;\n    \n    private previousItemsHeight: number[] = [];\n\n    public containerWidth: number = 0;\n\n    private get itemsNoSticky() { return this.currentStickyItem ? this.items.filter((item) => this.originalItems[this.currentStickyItem.index] !== item) : this.items; }\n\n    public get vsItems() { return (this.queryVsItems && this.queryVsItems.toArray()) || []; }\n\n    public get numberItemsRendred(): number { return this.endIndex - this.startIndex; }\n    \n    public get el() { return this.elRef && this.elRef.nativeElement; }\n\n    public get itemsContainerEl() { return this.itemsContainerElRef && this.itemsContainerElRef.nativeElement; }\n    \n    constructor(\n        private elRef: ElementRef<HTMLElement>,\n        private renderer: Renderer2\n\t) {\n\t}\n\n    ngAfterViewInit() {\n        this.queryVsItems.changes.subscribe(() => this.checkStickItem(this.scrollIsUp));\n\t}\n\n    ngOnInit() {\n        this.renderer.listen(this.el, 'scroll', this.onScroll.bind(this));\n\t}\n\t\n\tngOnChanges(changes: SimpleChanges) {\n\t\tsetTimeout(() => {\n            if ('height' in changes) {\n                this.el.style.height = this.height;\n            }\n\n            if ('minRowHeight' in changes) {\n                if (typeof this.minRowHeight === 'string') {\n                    if (parseInt(this.minRowHeight))\n                        this.minRowHeight = parseInt(this.minRowHeight);\n                    else {\n                        console.warn('The [min-row-height] @Input is invalid, the value must be of type \"number\".')\n                        this.minRowHeight = 40;\n                    }\n                }\n            }\n\n\t\t\tif ('originalItems' in changes) {\n                if (!this.originalItems)\n                    this.originalItems = [];\n\n                if (this.currentAndPrevItemsAreDiff()) {\n                    this.previousItemsHeight = new Array(this.originalItems.length).fill(null);\n                \n                    if (this.el.scrollTop !== 0)\n                        this.el.scrollTop = 0;\n                    else {\n                        this.currentScroll = 0;\n                        this.prepareDataItems();\n                        this.checkIsTable();\n                        this.queryVsItems.notifyOnChanges();\n                    }\n                }\n                else {\n                    if (this.originalItems.length > this.prevOriginalItems.length)\n                        this.previousItemsHeight = this.previousItemsHeight.concat(new Array(this.originalItems.length - this.prevOriginalItems.length).fill(null));\n                \n                    this.prepareDataItems();\n                    this.checkIsTable();\n                    this.queryVsItems.notifyOnChanges();\n                }\n\n                this.prevOriginalItems = this.originalItems;\n\t\t\t}\n\t\t});\n    }\n\n    ngAfterContentChecked() {\n        let currentContainerWidth = this.itemsContainerEl && this.itemsContainerEl.clientWidth;\n        if (currentContainerWidth !== this.containerWidth)\n            this.containerWidth = currentContainerWidth;\n        \n        this.manipuleRenderedItems();\n    }\n\n    private currentAndPrevItemsAreDiff() {\n        if (this.originalItems.length >= this.prevOriginalItems.length) {\n            let begin = 0;\n            let end = this.prevOriginalItems.length - 1;\n            for (let i = begin; i <= end; i++) {\n                if (this.originalItems[i] !== this.prevOriginalItems[i])\n                    return true;\n            }\n\n            return false;\n        }\n\n        return true;\n    }\n\n\tprivate onScroll() {\n        let up = this.el.scrollTop < this.currentScroll;\n        this.currentScroll = this.el.scrollTop;\n\n        this.prepareDataItems();\n        this.isTable = this.checkIsTable();\n        this.lastScrollIsUp = this.scrollIsUp;\n        this.scrollIsUp = up;\n        this.queryVsItems.notifyOnChanges();\n    }\n\n    private prepareDataItems() {\n        this.registerCurrentItemsHeight();\n        this.prepareDataVirtualScroll();\n    }\n\n    private registerCurrentItemsHeight() {\n        let children = this.getInsideChildrens();\n        for (let i = 0; i < children.length; i++) {\n            let child = children[i];\n            let realIndex = this.startIndex + i;\n            this.previousItemsHeight[realIndex] = child.getBoundingClientRect().height;\n        }\n    }\n\n    private getDimensions() {\n        \n        let dimensions = {\n            contentHeight: 0,\n            paddingTop: 0,\n            itemsThatAreGone: 0\n        };\n        \n        dimensions.contentHeight = this.originalItems.reduce((prev, curr, i) => {\n\t\t\tlet height = this.previousItemsHeight[i];\n\t\t\treturn prev + (height ? height : this.minRowHeight);\n        }, 0);\n\n        if (this.currentScroll >= this.minRowHeight) {\n            let newPaddingTop = 0;\n            let itemsThatAreGone = 0;\n            let initialScroll = this.currentScroll;\n            \n            for (let h of this.previousItemsHeight) {\n                let height = h ? h : this.minRowHeight;\n                if (initialScroll >= height) {\n                    newPaddingTop += height;\n                    initialScroll -= height;\n                    itemsThatAreGone++;\n                }\n                else\n                    break;\n            }\n            \n            dimensions.paddingTop = newPaddingTop;\n            dimensions.itemsThatAreGone = itemsThatAreGone;\n        }\n\n        return dimensions;\n    }\n    \n    private prepareDataVirtualScroll() {\n        let dimensions = this.getDimensions();\n        \n        this.contentHeight = dimensions.contentHeight;\n        this.paddingTop = dimensions.paddingTop;\n        this.startIndex = dimensions.itemsThatAreGone;\n        this.endIndex = Math.min((this.startIndex + this.numberItemsCanRender()), (this.originalItems.length - 1));\n\n        if (this.indexCurrentSticky >= 0 && (this.startIndex > this.indexCurrentSticky || this.endIndex < this.indexCurrentSticky)) {\n            if (this.currentStickyItem)\n                this.currentStickyItem.outside = true;\n            this.items = [ ...this.originalItems.slice(this.startIndex, Math.min(this.endIndex + 1, this.originalItems.length)), this.originalItems[this.indexCurrentSticky] ];\n        }\n        else {\n            if (this.currentStickyItem)\n                this.currentStickyItem.outside = false;\n            this.items = this.originalItems.slice(this.startIndex, Math.min(this.endIndex + 1, this.originalItems.length));\n        }\n\n        this.onItemsRender.emit(new AgVsRenderEvent<any>({\n            items: this.itemsNoSticky,\n            startIndex: this.startIndex,\n            endIndex: this.endIndex,\n            length: this.itemsNoSticky.length\n        }));\n                \n        this.manipuleRenderedItems();\n    }\n\n    private numberItemsCanRender() {\n        return Math.floor(this.el.clientHeight / this.minRowHeight) + 2;\n    }\n\n    private manipuleRenderedItems() {\n        let children = this.getInsideChildrens();\n        for (let i = 0; i < children.length; i++) {\n            let child = children[i] as HTMLElement;\n            if (child.style.display !== 'none') {\n                let realIndex = this.startIndex + i;\n                child.style.minHeight = `${this.minRowHeight}px`;\n                child.style.height = `${this.minRowHeight}px`;\n                \n                let className = (realIndex + 1) % 2 === 0 ? 'even' : 'odd';\n                let unclassName = className == 'even' ? 'odd' : 'even';\n\n                child.classList.add(`ag-virtual-scroll-${className}`);\n                child.classList.remove(`ag-virtual-scroll-${unclassName}`);\n            }\n        }\n    }\n\n    private getInsideChildrens(): HTMLCollection {\n        let childrens = this.itemsContainerEl.children;\n        if (childrens.length > 0) {\n            if (childrens[0].tagName.toUpperCase() === 'TABLE') {\n                childrens = childrens[0].children;\n                if (childrens.length > 0) {\n                    if (childrens[0].tagName.toUpperCase() === 'TBODY')\n                        childrens = childrens[0].children;\n                    else\n                        childrens = childrens[1].children;\n                }\n            }\n        }\n\n        return childrens;\n    }\n\n    private checkIsTable() {\n        let childrens = this.itemsContainerEl.children;\n        if (childrens.length > 0) {\n            if (childrens[0].tagName.toUpperCase() === 'TABLE') {\n                childrens = childrens[0].children;\n                if (childrens.length > 0) {\n                    if (childrens[0].tagName.toUpperCase() === 'THEAD'){\n                        let thead = childrens[0] as HTMLElement;\n                        thead.style.transform = `translateY(${Math.abs(this.paddingTop - this.currentScroll)}px)`;\n                    }\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private checkStickItem(up: boolean) {\n        if (!this.isTable && this.vsItems.length > 0) {\n            this.updateVsItems().subscribe(() => {\n                if (this.indexCurrentSticky >= 0) {\n\n                    if (!this.currentStickyItem) {\n                        this.findCurrentStickyByIndex(true);\n                        return;\n                    }\n\n                    if (this.indexNextSticky === -1)\n                        this.indexNextSticky = this.getIndexNextSticky(up);\n    \n                    if (this.currentStickIsEnded(up)) {\n                        if (!up) {\n                            this.indexPrevSticky = this.indexCurrentSticky;\n                            this.indexCurrentSticky = this.getIndexCurrentSticky(up);\n                            this.indexNextSticky = this.getIndexNextSticky(up);\n                        }\n                        else {\n                            if (this.indexPrevSticky >= 0) {\n                                this.setPrevAsCurrentSticky();\n                            }\n                            else {\n                                this.indexCurrentSticky = this.getIndexCurrentSticky(up);\n\n                                if (this.indexCurrentSticky >= 0)\n                                    this.indexNextSticky = this.getIndexNextSticky(up);\n                                else\n                                    this.indexNextSticky = null;\n                            }\n                        }\n                    }\n                }  \n                else {\n                    this.indexCurrentSticky = this.getIndexCurrentSticky(up);\n                    this.indexNextSticky = this.getIndexNextSticky(up);\n                }        \n            });\n        }\n        else {\n            this.indexCurrentSticky = -1;\n            this.indexNextSticky = -1;\n        }\n    }\n\n    private findCurrentStickyByIndex(afterPrev: boolean = false) {\n        let vsIndex = 0;\n        let lastVsIndex = this.vsItems.length - 1;\n        let diffMaxItemsRender = this.vsItems.length - this.numberItemsCanRender();\n\n        if (diffMaxItemsRender > 0 && !this.vsItems.some((vsItem, vsIndex) => this.indexCurrentSticky === (this.startIndex + vsIndex))) {\n            vsIndex = lastVsIndex;\n            let vsItem = this.vsItems[lastVsIndex];\n            let index = this.indexCurrentSticky;\n            let offsetTop = this.previousItemsHeight.slice(0, index).reduce((prev, curr) => (prev + (curr ? curr : this.minRowHeight)), 0);\n            vsItem.isSticked = true;\n            this.currentStickyItem = new StickyItem({\n                comp: vsItem,\n                index: index,\n                vsIndex: vsIndex,\n                offsetTop: offsetTop,\n                height: vsItem.el.offsetHeight,\n                outside: true\n            });\n        }\n        else {\n            for(let vsItem of this.vsItems) {\n                let index = this.startIndex + vsIndex;\n\n                if (this.indexCurrentSticky === index) {\n                    let offsetTop = this.previousItemsHeight.slice(0, index).reduce((prev, curr) => (prev + (curr ? curr : this.minRowHeight)), 0);\n                    vsItem.isSticked = true;\n                    this.currentStickyItem = new StickyItem({\n                        comp: vsItem,\n                        index: index,\n                        vsIndex: vsIndex,\n                        offsetTop: offsetTop,\n                        height: vsItem.el.offsetHeight\n                    });\n                    break;\n                }\n                \n                vsIndex++;\n            }\n        }\n\n        if (afterPrev && this.currentStickyItem) {\n            let currentHeight = this.currentStickyItem.height;\n            let offsetBottom = this.paddingTop + currentHeight + Math.abs(this.el.scrollTop - this.paddingTop);\n            let offsetTopNext = this.indexNextSticky >= 0 ? this.previousItemsHeight.slice(0, this.indexNextSticky).reduce((prev, curr) => (prev + (curr ? curr : this.minRowHeight)), 0) : null;\n            \n            if (offsetTopNext !== null && offsetBottom >= offsetTopNext) {\n                let newDiffTop = offsetBottom - offsetTopNext;\n                if (newDiffTop >= currentHeight) {\n                    this.currentStickyItem.diffTop = currentHeight;\n                    return true;\n                }\n                else\n                    this.currentStickyItem.diffTop = newDiffTop;\n            } \n            else\n                this.currentStickyItem.diffTop = 0;\n        }\n    }\n\n    private setPrevAsCurrentSticky() {\n        let currentSticked = this.currentStickyItem && this.currentStickyItem.comp.sticky;\n\n        if (currentSticked) \n            this.indexNextSticky = this.indexCurrentSticky;\n\n        this.indexCurrentSticky = this.indexPrevSticky;\n        this.indexPrevSticky = -1;\n    }\n\n    private getIndexCurrentSticky(up: boolean) {\n        let vsIndex = 0;\n        for (let vsItem of this.vsItems) {\n            let index = vsIndex + this.startIndex;\n\n            let offsetTop = this.previousItemsHeight.slice(0, index).reduce((prev, curr) => (prev + (curr ? curr : this.minRowHeight)), 0);\n            \n            if (vsItem && vsItem.sticky &&\n                this.el.scrollTop >= offsetTop &&\n                (this.indexCurrentSticky === -1 || index !== this.indexCurrentSticky)\n            )\n                return index;\n\n            vsIndex++;\n        };\n        \n        return -1;\n    }\n\n    private getIndexNextSticky(up: boolean) {\n        if (this.indexCurrentSticky >= 0) {\n            let vsIndex = 0;\n\n            for (let vsItem of this.vsItems.slice(0, this.numberItemsCanRender())) {\n                let index = vsIndex + this.startIndex;\n\n                if (vsItem.sticky && index > this.indexCurrentSticky)\n                    return index;\n\n                vsIndex++;\n            }\n        }\n\n        return -1;\n    }\n\n    private currentStickIsEnded(up: boolean) {\n        let currentHeight = this.currentStickyItem.height;\n        \n        if (!up || this.currentStickyItem.diffTop > 0) {\n            let offsetBottom = this.paddingTop + currentHeight + Math.abs(this.el.scrollTop - this.paddingTop);\n            let offsetTopNext = this.indexNextSticky >= 0 ? this.previousItemsHeight.slice(0, this.indexNextSticky).reduce((prev, curr) => (prev + (curr ? curr : this.minRowHeight)), 0) : null;\n            \n            if (offsetTopNext !== null && offsetBottom >= offsetTopNext) {\n                let newDiffTop = offsetBottom - offsetTopNext;\n                if (newDiffTop >= currentHeight) {\n                    this.currentStickyItem.diffTop = currentHeight;\n                    return true;\n                }\n                else\n                    this.currentStickyItem.diffTop = newDiffTop;\n            } \n            else\n                this.currentStickyItem.diffTop = 0;\n        }\n        else {\n            let offsetBottom = this.paddingTop + Math.abs(this.el.scrollTop - this.paddingTop);\n            if (offsetBottom <= this.currentStickyItem.offsetTop) {\n                return true;\n            } \n        }\n\n        return false;\n    }\n\n    private updateVsItems() {\n        return new Observable<void>((subscriber) => {\n            if (this.subscripAllVsItem.length) {\n                this.subscripAllVsItem.forEach((item) => item.subscrip.unsubscribe());\n                this.subscripAllVsItem = [];\n            }\n\n            let interval = setInterval(() => {\n                let diffMaxItemsRender = this.vsItems.length - this.numberItemsCanRender();\n                let lastIndex = this.vsItems.length - 1;\n                let ok = this.vsItems.every((vsItem, vsIndex) => {\n                    let index = this.startIndex + vsIndex;\n\n                    if (diffMaxItemsRender > 0 && vsIndex === lastIndex)\n                        index = this.indexCurrentSticky;\n\n                    if (!this.currentStickyItem || vsItem !== this.currentStickyItem.comp)\n                        vsItem.isSticked = false;\n\n                    if (!this.subscripAllVsItem.some(item => item.comp === vsItem))\n                        this.subscripAllVsItem.push({\n                            comp: vsItem,\n                            subscrip: vsItem.onStickyChange.subscribe((sticky) => {\n                                this.onStickyComponentChanged(vsItem, index);\n                            })\n                        });\n\n                    try { vsItem.forceUpdateInputs(); }\n                    catch { return false; }\n\n                    return true;\n                });\n\n                if (ok) {\n                    clearInterval(interval);\n                    this.manipuleRenderedItems();\n                    subscriber.next();\n                }\n            });\n        });\n    }\n\n    private onStickyComponentChanged(vsItem: AgVsItemComponent, index: number) {\n        if (index === this.indexCurrentSticky) {\n            if (!vsItem.sticky) {\n                if (this.indexPrevSticky >= 0) {\n                    this.setPrevAsCurrentSticky();\n                }\n                else {\n                    this.indexCurrentSticky = this.getIndexCurrentSticky(false);\n\n                    if (this.indexCurrentSticky >= 0)\n                        this.indexNextSticky = this.getIndexNextSticky(false);\n                    else\n                        this.indexNextSticky = null;\n                }\n            }\n        }\n        else if ((this.indexCurrentSticky !== -1 && index < this.indexCurrentSticky) || index === this.indexPrevSticky) {\n            if (vsItem.sticky)\n                this.indexPrevSticky = index;\n            else\n                this.indexesPrevStick = this.indexesPrevStick.filter(indexPrev => indexPrev !== index);\n        }\n        else if ((this.indexCurrentSticky !== -1 && index > this.indexCurrentSticky) || index === this.indexNextSticky) {\n            if (vsItem.sticky && (this.indexNextSticky === -1 || index < this.indexNextSticky))\n                this.indexNextSticky = index;\n            else if (!vsItem.sticky)\n                this.indexNextSticky = -1;\n        }\n        else\n            return;\n\n        this.queryVsItems.notifyOnChanges();\n    }\n\n    ngOnDestroy() {\n    }\n}\n\n\nexport class StickyItem {\n    comp: AgVsItemComponent;\n    index: number;\n    offsetTop: number = 0;\n    vsIndex: number;\n    diffTop: number = 0;\n    isUp: boolean = false\n    height: number = 0;\n    outside: boolean = false;\n\n    constructor(obj?: Partial<StickyItem>) {\n        if (obj) Object.assign(this, obj);\n    }\n}","import { Pipe, PipeTransform } from '@angular/core';\n@Pipe({\n   name: 'mathAbs'\n})\nexport class MathAbsPipe implements PipeTransform {\n\n   constructor() {}\n\n   transform(value: number) {\n      if (value)\n         return Math.abs(value);\n      return value;\n   }\n}","import { Pipe, PipeTransform } from '@angular/core';\n@Pipe({\n   name: 'stickedClasses'\n})\nexport class StickedClassesPipe implements PipeTransform {\n\n   private exceptionClasses: string[] = [\n      'ag-virtual-scroll-odd',\n      'ag-virtual-scroll-even',\n   ];\n\n   constructor() {}\n\n   transform(classes: string) {\n      if (classes) {\n         let splitted = classes.includes(' ') ? classes.split(' ') : [classes];\n         return splitted.filter(className => !this.exceptionClasses.some(exc => exc === className)).join(' ');\n      }\n      return '';\n   }\n}","import { NgModule, } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AgVirtualSrollComponent } from './ag-virtual-scroll.component';\nimport { AgVsItemComponent } from './ag-vs-item/ag-vs-item.component';\nimport { MathAbsPipe } from './pipes/math-abs.pipe';\nimport { StickedClassesPipe } from './pipes/sticked-classes.pipe';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        AgVirtualSrollComponent,\n        AgVsItemComponent,\n\n        // Pipes\n        MathAbsPipe,\n        StickedClassesPipe\n    ],\n    exports: [\n        AgVirtualSrollComponent,\n        AgVsItemComponent\n    ],\n    entryComponents: [\n        AgVirtualSrollComponent,\n        AgVsItemComponent\n    ]\n})\nexport class AgVirtualScrollModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {MathAbsPipe as ɵa} from './pipes/math-abs.pipe';\nexport {StickedClassesPipe as ɵb} from './pipes/sticked-classes.pipe';"],"names":[],"mappings":"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"}